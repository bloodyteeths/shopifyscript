import{a as U}from"/assets/_shared/chunk-XT2LVRN2.js";import{c as E,d as O,i as I,m as $,n as F}from"/assets/_shared/chunk-XSX5DAMU.js";import{a as H,b as D}from"/assets/_shared/chunk-E6CPWDOJ.js";import{a as K}from"/assets/_shared/chunk-LBS3TYST.js";import{c as x}from"/assets/_shared/chunk-F3TRQT5X.js";var r=x(H()),V=x(U());var q=x(K()),e=x(D());function W(){let c=$(),i=F(),y=c?.cfg||{},l=c?.suggestions||{},f=c?.insights||{},a=E(),N=y?.CPC_CEILINGS||{},M=Object.entries(N).map(([t,o])=>({campaign:t,value:o})),[b,j]=r.useState([]),[Y,h]=r.useState(""),[v,L]=r.useState(new Set),[p,s]=r.useState({}),[R,T]=r.useState(!1),S=O();r.useEffect(()=>{T(!1)},[]),r.useEffect(()=>{if(!R)try{let t=new URL(window.location.href);if(!!!t.searchParams.get("shop")&&c?.shopName){t.searchParams.set("shop",c.shopName),window.history.replaceState({},"",t.toString());try{S.revalidate()}catch{}}}catch{}},[S,R]);let J=t=>{T(!1),h(`Shop configured: ${t}.myshopify.com`);try{S.revalidate()}catch{}try{let o=new URL(window.location.href);o.searchParams.set("shop",t),window.history.replaceState({},"",o.toString())}catch{}},[w,z]=r.useState("preset"),[k,P]=r.useState("preset"),[Q,X]=r.useState("preset"),[A,_]=r.useState("preset"),[C,B]=r.useState("preset");r.useEffect(()=>{if(i?.error)console.error("Action returned error:",i.error),s(t=>({...t,runOptimization:`\u274C Error: ${i.error}`})),setTimeout(()=>s(t=>({...t,runOptimization:""})),8e3);else if(i?.tickResult&&i?.ok){let t=i.planned?.length||0,o=i.applied?.length||0;i.skipped?s(d=>({...d,runOptimization:`\u23F8\uFE0F Skipped: ${i.reason||"Not scheduled to run now"}`})):t>0?s(d=>({...d,runOptimization:`\u2705 Generated ${t} optimization${t!==1?"s":""}, applied ${o}`})):s(d=>({...d,runOptimization:"\u2705 Analysis complete - no optimizations needed right now"})),setTimeout(()=>s(d=>({...d,runOptimization:""})),5e3)}else if(i?.ok&&a.formData?.get("save_caps")){let t=i.sheetsSuccess?"\u2705 Bid limits saved to Google Sheets!":"\u2705 Bid limits saved!";s(o=>({...o,saveCaps:t})),setTimeout(()=>s(o=>({...o,saveCaps:""})),3e3)}else if(i?.ok){let t=i.sheetsSuccess?"\u2705 Settings saved to Google Sheets & optimization completed!":"\u2705 Settings saved & optimization completed!";s(o=>({...o,runOptimization:t})),setTimeout(()=>s(o=>({...o,runOptimization:""})),5e3)}else if(i?.applied!==void 0)s(t=>({...t,seoApply:`\u2705 Applied ${i.applied} SEO changes!`})),setTimeout(()=>s(t=>({...t,seoApply:""})),3e3);else if(i?.preview!==void 0){let t=i.preview?.length||0;s(o=>({...o,seoPreview:`\u{1F441}\uFE0F Generated ${t} SEO preview${t!==1?"s":""}`})),j(i.preview||[]),setTimeout(()=>s(o=>({...o,seoPreview:""})),3e3)}else i?.updated!==void 0&&(s(t=>({...t,tagsApply:`\u2705 Updated ${i.updated} products!`})),setTimeout(()=>s(t=>({...t,tagsApply:""})),3e3));i&&console.log("Advanced page action data:",{ok:i.ok,error:i.error,shopName:i.shopName,sheetsSuccess:i.sheetsSuccess,saved:i.saved,message:i.message})},[i,a.formData]);let G=t=>{let o=document.querySelector('form[method="post"]');if(!o)return;let m=o.querySelector(`[name="${t.field}"]`);m&&(m.value=t.recommendedValue,L(d=>new Set([...d,t.type])),h(`\u2728 Applied suggestion: ${t.title}`),setTimeout(()=>h(""),3e3))},n={fontSize:"14px",color:"#666",marginTop:"4px",fontStyle:"italic"},g={border:"1px solid #e1e5e9",borderRadius:"8px",padding:"20px",marginBottom:"20px",backgroundColor:"#fafbfc"},u={fontSize:"18px",fontWeight:"bold",color:"#333",marginBottom:"8px"};return(0,e.jsxs)("div",{style:{maxWidth:920},children:[(0,e.jsx)("h1",{children:"\u2699\uFE0F Advanced Settings"}),(0,e.jsx)("p",{style:{color:"#666",marginBottom:"24px"},children:"Fine-tune your ProofKit automation and optimize your store's performance."}),c?.error&&(0,e.jsxs)("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"16px",marginBottom:"20px",color:"#856404"},children:[(0,e.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"bold"},children:"\u26A0\uFE0F Configuration Issue"}),(0,e.jsx)("p",{style:{margin:0,fontSize:"14px"},children:c.error}),c.needsSetup&&(0,e.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",fontStyle:"italic"},children:"Try setting up your shop configuration below to resolve this issue."})]}),l.length>0&&(0,e.jsxs)("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"20px",marginBottom:"24px"},children:[(0,e.jsxs)("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#856404",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:["\u{1F4A1} Personalized Recommendations",(0,e.jsx)("span",{style:{fontSize:"14px",fontWeight:"normal",color:"#666",marginLeft:"8px"},children:"Based on your Google Ads performance"})]}),(0,e.jsx)("div",{style:{display:"grid",gap:"12px"},children:l.map(t=>(0,e.jsxs)("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"6px",border:"1px solid #f0c040",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#333"},children:t.title}),(0,e.jsx)("p",{style:{fontSize:"14px",color:"#666",margin:"0"},children:t.description}),(0,e.jsxs)("span",{style:{fontSize:"12px",color:"#856404",fontWeight:"bold"},children:["Recommended: ",t.recommendedValue]})]}),(0,e.jsx)("button",{type:"button",onClick:()=>G(t),disabled:v.has(t.type),style:{padding:"8px 16px",backgroundColor:v.has(t.type)?"#6c757d":"#ffc107",color:v.has(t.type)?"white":"#333",border:"none",borderRadius:"4px",cursor:v.has(t.type)?"default":"pointer",fontSize:"14px",fontWeight:"bold",minWidth:"80px"},children:v.has(t.type)?"\u2705 Applied":"\u2728 Apply"})]},t.type))})]}),f?.kpi&&(0,e.jsxs)("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #e1e5e9",borderRadius:"8px",padding:"20px",marginBottom:"24px"},children:[(0,e.jsx)("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"12px",color:"#333"},children:"\u{1F4CA} Current Performance (Last 7 Days)"}),(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"16px"},children:[(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#007bff"},children:f.kpi.clicks||0}),(0,e.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:"Clicks"})]}),(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#28a745"},children:["$",(f.kpi.cost||0).toFixed(2)]}),(0,e.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:"Spend"})]}),(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffc107"},children:["$",(f.kpi.cpc||0).toFixed(2)]}),(0,e.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:"Avg CPC"})]}),(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#dc3545"},children:["$",(f.kpi.cpa||0).toFixed(2)]}),(0,e.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:"CPA"})]})]})]}),(0,e.jsxs)(I,{method:"post",style:{display:"grid",gap:20},children:[(0,e.jsx)("input",{type:"hidden",name:"shop",value:c?.shopName||""}),(0,e.jsxs)("div",{style:g,children:[(0,e.jsx)("h3",{style:u,children:"\u{1F552} Automation Schedule"}),(0,e.jsx)("p",{style:n,children:"Choose how often ProofKit should optimize your campaigns"}),(0,e.jsxs)("div",{style:{marginTop:"12px"},children:[(0,e.jsx)("div",{style:{display:"grid",gap:"8px"},children:l.schedule?.options.map((t,o)=>(0,e.jsxs)("label",{style:{display:"flex",alignItems:"center",padding:"16px",border:"1px solid #ddd",borderRadius:"6px",cursor:"pointer",backgroundColor:"#fafafa"},children:[(0,e.jsx)("input",{type:"radio",name:"schedule",value:t.value,defaultChecked:o===0,style:{marginRight:"12px"}}),(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:t.label}),(0,e.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"2px"},children:t.description})]})]},o))}),(0,e.jsxs)("div",{style:{...n,marginTop:"8px"},children:[(0,e.jsx)("strong",{children:"Tip:"}),' Start with "Daily" if you have active campaigns. You can change this anytime.']})]})]}),(0,e.jsxs)("div",{style:g,children:[(0,e.jsx)("h3",{style:u,children:"\u{1F3AF} Performance Targets"}),(0,e.jsx)("p",{style:n,children:"Choose from personalized options or enter your own values"}),(0,e.jsxs)("div",{style:{display:"grid",gap:"20px",marginTop:"12px"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"\u{1F4B0} Target Cost Per Acquisition (CPA)"}),(0,e.jsx)("div",{style:{...n,marginBottom:"8px"},children:l.targetCPA?.description}),(0,e.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,e.jsxs)("label",{style:{marginRight:"16px"},children:[(0,e.jsx)("input",{type:"radio",checked:w==="preset",onChange:()=>z("preset"),style:{marginRight:"6px"}}),"Choose from suggestions"]}),(0,e.jsxs)("label",{children:[(0,e.jsx)("input",{type:"radio",checked:w==="manual",onChange:()=>z("manual"),style:{marginRight:"6px"}}),"Enter manually"]})]}),w==="preset"?(0,e.jsx)("div",{style:{display:"grid",gap:"8px"},children:l.targetCPA?.options.map((t,o)=>(0,e.jsxs)("label",{style:{display:"flex",alignItems:"center",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",cursor:"pointer",backgroundColor:"#fafafa"},children:[(0,e.jsx)("input",{type:"radio",name:"target_cpa",value:t.value,defaultChecked:o===1,style:{marginRight:"12px"}}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("strong",{children:["$",t.value]})," - ",t.label,(0,e.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"2px"},children:t.description})]})]},o))}):(0,e.jsx)("input",{name:"target_cpa",type:"number",step:"0.01",defaultValue:y?.AP?.target_cpa||"",placeholder:"Enter your target CPA (e.g., 25.00)",style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ddd",width:"100%",maxWidth:"300px"}})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"\u{1F4C8} Target Return on Ad Spend (ROAS)"}),(0,e.jsx)("div",{style:{...n,marginBottom:"8px"},children:l.targetROAS?.description}),(0,e.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,e.jsxs)("label",{style:{marginRight:"16px"},children:[(0,e.jsx)("input",{type:"radio",checked:k==="preset",onChange:()=>P("preset"),style:{marginRight:"6px"}}),"Choose from suggestions"]}),(0,e.jsxs)("label",{children:[(0,e.jsx)("input",{type:"radio",checked:k==="manual",onChange:()=>P("manual"),style:{marginRight:"6px"}}),"Enter manually"]})]}),k==="preset"?(0,e.jsx)("div",{style:{display:"grid",gap:"8px"},children:l.targetROAS?.options.map((t,o)=>(0,e.jsxs)("label",{style:{display:"flex",alignItems:"center",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",cursor:"pointer",backgroundColor:"#fafafa"},children:[(0,e.jsx)("input",{type:"radio",name:"target_roas",value:t.value,defaultChecked:o===1,style:{marginRight:"12px"}}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("strong",{children:[t.value,"x ROAS"]})," - ",t.label,(0,e.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"2px"},children:t.description})]})]},o))}):(0,e.jsx)("input",{name:"target_roas",type:"number",step:"0.01",defaultValue:y?.AP?.target_roas||"",placeholder:"Enter your target ROAS (e.g., 4.0)",style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ddd",width:"100%",maxWidth:"300px"}})]})]})]}),(0,e.jsxs)("div",{style:g,children:[(0,e.jsx)("h3",{style:u,children:"\u{1F4B3} Maximum Bid Limits"}),(0,e.jsx)("p",{style:n,children:"Set cost-per-click limits to control your ad spending"}),(0,e.jsxs)("div",{style:{marginTop:"12px"},children:[(0,e.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,e.jsx)("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"8px"},children:"\u{1F680} Quick Setup (Recommended)"}),(0,e.jsx)("div",{style:{display:"grid",gap:"8px"},children:l.bidCeiling?.options.map((t,o)=>(0,e.jsxs)("button",{type:"button",onClick:()=>{let m=document.querySelector('input[name="caps_campaign"]'),d=document.querySelector('input[name="caps_value"]');m&&d&&(m.value="*",d.value=t.value,h(`\u2728 Set ${t.label} bid limit: $${t.value} for all campaigns`),setTimeout(()=>h(""),3e3))},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid #ddd",borderRadius:"6px",cursor:"pointer",backgroundColor:"#fafafa",textAlign:"left",fontSize:"14px"},children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("strong",{children:["$",t.value," - ",t.label]}),(0,e.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"2px"},children:t.description})]}),(0,e.jsx)("span",{style:{fontSize:"12px",color:"#007bff",fontWeight:"bold"},children:"\u2728 Apply"})]},o))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"8px"},children:"\u{1F3AF} Campaign-Specific Limits (Optional)"}),(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 140px",gap:8,marginBottom:"8px"},children:[(0,e.jsx)("strong",{children:"Campaign Name"}),(0,e.jsx)("strong",{children:"Max CPC ($)"})]}),M.map((t,o)=>(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 140px",gap:8,marginBottom:"4px"},children:[(0,e.jsx)("input",{name:"caps_campaign",defaultValue:t.campaign,placeholder:"Campaign name or * for all",style:{padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}}),(0,e.jsx)("input",{name:"caps_value",type:"number",step:"0.01",defaultValue:t.value,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]},o)),(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 140px",gap:8,marginBottom:"8px"},children:[(0,e.jsx)("input",{name:"caps_campaign",placeholder:"Campaign name (or * for all campaigns)",style:{padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}}),(0,e.jsx)("input",{name:"caps_value",type:"number",step:"0.01",placeholder:"Max $",style:{padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),(0,e.jsxs)("div",{style:n,children:[(0,e.jsx)("strong",{children:"Examples:"}),' Use "*" for all campaigns, "Brand Campaign" for specific ones. Set to 0 to remove a limit.']}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"12px"},children:[(0,e.jsx)("button",{type:"submit",name:"save_caps",value:"1",disabled:a.state!=="idle",style:{padding:"8px 16px",backgroundColor:a.state!=="idle"?"#6c757d":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:a.state!=="idle"?"not-allowed":"pointer",opacity:a.state!=="idle"?.7:1},children:a.state!=="idle"?"\u23F3 Saving...":"\u{1F4BE} Save Bid Limits"}),p.saveCaps&&(0,e.jsx)("span",{style:{color:"#155724",fontSize:"14px",fontWeight:"bold",padding:"4px 8px",backgroundColor:"#d4edda",borderRadius:"4px",border:"1px solid #c3e6cb"},children:p.saveCaps})]})]})]})]}),(0,e.jsxs)("div",{style:g,children:[(0,e.jsx)("h3",{style:u,children:"\u{1F50D} SEO Optimization"}),(0,e.jsx)("p",{style:n,children:"Improve your product pages for search engines"}),(0,e.jsxs)("div",{style:{display:"grid",gap:12,marginTop:"12px"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:{display:"block",fontWeight:"bold",marginBottom:"4px"},children:"Product IDs or Handles"}),(0,e.jsx)("textarea",{name:"product_ids",rows:3,placeholder:"Enter product IDs or handles, separated by spaces, commas, or |",style:{width:"100%",padding:"8px 12px",borderRadius:"4px",border:"1px solid #ddd",fontFamily:"monospace",fontSize:"14px"}}),(0,e.jsx)("div",{style:n,children:'Example: "12345 67890" or "t-shirt-blue, sneakers-red"'})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"SEO Strategy"}),(0,e.jsxs)("label",{style:{marginRight:"20px"},children:[(0,e.jsx)("input",{type:"radio",name:"strategy",value:"template",defaultChecked:!0,style:{marginRight:"6px"}}),"\u{1F4DD} Template (Use your own patterns)"]}),(0,e.jsxs)("label",{children:[(0,e.jsx)("input",{type:"radio",name:"strategy",value:"ai",style:{marginRight:"6px"}}),"\u{1F916} AI (Let AI write descriptions)"]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:{display:"block",fontWeight:"bold",marginBottom:"4px"},children:"Title Template"}),(0,e.jsx)("input",{name:"template_title",placeholder:"{{title}} | Free Shipping | Your Store",style:{width:"100%",padding:"8px 12px",borderRadius:"4px",border:"1px solid #ddd"}}),(0,e.jsxs)("div",{style:n,children:["Use ","{{title}}"," for product name, ","{{brand}}"," for brand name"]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:{display:"block",fontWeight:"bold",marginBottom:"4px"},children:"Description Template"}),(0,e.jsx)("input",{name:"template_description",placeholder:"Discover {{title}} by {{brand}}. High quality, fast shipping.",style:{width:"100%",padding:"8px 12px",borderRadius:"4px",border:"1px solid #ddd"}})]}),(0,e.jsxs)("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},children:[(0,e.jsx)("button",{type:"submit",name:"seo_preview",value:"1",disabled:a.state!=="idle",style:{padding:"8px 16px",backgroundColor:a.state!=="idle"?"#6c757d":"#ffc107",color:a.state!=="idle"?"white":"#333",border:"none",borderRadius:"4px",cursor:a.state!=="idle"?"not-allowed":"pointer",opacity:a.state!=="idle"?.7:1},children:a.state!=="idle"?"\u23F3 Loading...":"\u{1F441}\uFE0F Preview Changes"}),(0,e.jsx)("button",{type:"submit",name:"seo_apply",value:"1",disabled:a.state!=="idle",style:{padding:"8px 16px",backgroundColor:a.state!=="idle"?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:a.state!=="idle"?"not-allowed":"pointer",opacity:a.state!=="idle"?.7:1},children:a.state!=="idle"?"\u23F3 Applying...":"\u2705 Apply to Store"}),p.seoPreview&&(0,e.jsx)("span",{style:{color:"#856404",fontSize:"14px",fontWeight:"bold",padding:"4px 8px",backgroundColor:"#fff3cd",borderRadius:"4px",border:"1px solid #ffeaa7"},children:p.seoPreview}),p.seoApply&&(0,e.jsx)("span",{style:{color:"#155724",fontSize:"14px",fontWeight:"bold",padding:"4px 8px",backgroundColor:"#d4edda",borderRadius:"4px",border:"1px solid #c3e6cb"},children:p.seoApply})]})]})]}),(0,e.jsxs)("div",{style:g,children:[(0,e.jsx)("h3",{style:u,children:"\u{1F511} Target Keywords"}),(0,e.jsx)("p",{style:n,children:"Choose keyword categories that match your business or enter your own"}),(0,e.jsxs)("div",{style:{marginTop:"12px"},children:[(0,e.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,e.jsxs)("label",{style:{marginRight:"16px"},children:[(0,e.jsx)("input",{type:"radio",checked:A==="preset",onChange:()=>_("preset"),style:{marginRight:"6px"}}),"Choose keyword category"]}),(0,e.jsxs)("label",{children:[(0,e.jsx)("input",{type:"radio",checked:A==="manual",onChange:()=>_("manual"),style:{marginRight:"6px"}}),"Enter my own keywords"]})]}),A==="preset"?(0,e.jsx)("div",{style:{display:"grid",gap:"12px"},children:l.keywords?.options.map((t,o)=>(0,e.jsx)("label",{style:{display:"block",padding:"16px",border:"1px solid #ddd",borderRadius:"6px",cursor:"pointer",backgroundColor:"#fafafa"},children:(0,e.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,e.jsx)("input",{type:"radio",name:"desired_keywords",value:t.value,defaultChecked:o===0,style:{marginTop:"4px"}}),(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:t.label}),(0,e.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px",marginBottom:"8px"},children:t.description}),(0,e.jsx)("div",{style:{fontSize:"14px",color:"#333",backgroundColor:"white",padding:"8px",borderRadius:"4px",border:"1px solid #eee",fontFamily:"monospace",whiteSpace:"pre-line"},children:t.value})]})]})},o))}):(0,e.jsx)("textarea",{name:"desired_keywords",rows:6,placeholder:`Enter your keywords, one per line:
your product name
your brand
your industry terms
competitor alternatives`,defaultValue:(y?.AP?.desired_keywords||[]).join(`
`),style:{width:"100%",padding:"12px",borderRadius:"4px",border:"1px solid #ddd",fontFamily:"monospace",fontSize:"14px"}}),(0,e.jsx)("div",{style:n,children:"These keywords help guide the autopilot's optimization decisions and negative keyword suggestions."})]})]}),(0,e.jsxs)("div",{style:g,children:[(0,e.jsx)("h3",{style:u,children:"\u{1F916} AI Behavior Instructions"}),(0,e.jsx)("p",{style:n,children:"Choose a business strategy or write custom instructions for the AI"}),(0,e.jsxs)("div",{style:{marginTop:"12px"},children:[(0,e.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,e.jsxs)("label",{style:{marginRight:"16px"},children:[(0,e.jsx)("input",{type:"radio",checked:C==="preset",onChange:()=>B("preset"),style:{marginRight:"6px"}}),"Choose business strategy"]}),(0,e.jsxs)("label",{children:[(0,e.jsx)("input",{type:"radio",checked:C==="manual",onChange:()=>B("manual"),style:{marginRight:"6px"}}),"Write custom instructions"]})]}),C==="preset"?(0,e.jsx)("div",{style:{display:"grid",gap:"12px"},children:l.aiBehavior?.options.map((t,o)=>(0,e.jsx)("label",{style:{display:"block",padding:"16px",border:"1px solid #ddd",borderRadius:"6px",cursor:"pointer",backgroundColor:"#fafafa"},children:(0,e.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,e.jsx)("input",{type:"radio",name:"playbook",value:t.value,defaultChecked:o===2,style:{marginTop:"4px"}}),(0,e.jsxs)("div",{style:{flex:1},children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[(0,e.jsx)("strong",{style:{fontSize:"16px"},children:t.label}),(0,e.jsx)("span",{style:{fontSize:"12px",color:"#007bff",backgroundColor:"#e7f3ff",padding:"2px 8px",borderRadius:"12px"},children:o===0?"\u{1F48E} Premium":o===1?"\u{1F680} Growth":"\u2696\uFE0F Balanced"})]}),(0,e.jsx)("div",{style:{fontSize:"13px",color:"#666",marginBottom:"10px"},children:t.description}),(0,e.jsxs)("div",{style:{fontSize:"12px",color:"#333",backgroundColor:"white",padding:"10px",borderRadius:"4px",border:"1px solid #eee",fontFamily:"inherit",whiteSpace:"pre-line",fontStyle:"italic"},children:['"',t.value,'"']})]})]})},o))}):(0,e.jsx)("textarea",{name:"playbook",rows:8,placeholder:`Write specific instructions for the AI:

\u2022 What type of customers should we focus on?
\u2022 What's our competitive advantage?
\u2022 Any products/keywords to avoid?
\u2022 Special business rules or constraints?
\u2022 Brand voice and messaging guidelines?`,defaultValue:y?.AP?.playbook_prompt||"",style:{width:"100%",padding:"12px",borderRadius:"4px",border:"1px solid #ddd",fontFamily:"inherit",fontSize:"14px"}}),(0,e.jsx)("div",{style:{...n,marginTop:"8px"},children:"These instructions help the AI understand your business goals and make better optimization decisions."})]})]}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",padding:"24px",borderTop:"2px solid #e1e5e9",marginTop:"20px"},children:[(0,e.jsx)("button",{type:"submit",name:"run_optimization",value:"1",disabled:a.state!=="idle",style:{padding:"16px 32px",backgroundColor:a.state!=="idle"?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"8px",cursor:a.state!=="idle"?"not-allowed":"pointer",fontSize:"18px",fontWeight:"bold",opacity:a.state!=="idle"?.7:1,boxShadow:a.state==="idle"?"0 4px 12px rgba(40, 167, 69, 0.3)":"none",transition:"all 0.2s ease"},children:a.state!=="idle"?"\u23F3 Saving & Running...":"\u{1F4BE} Save Settings & Run Optimization"}),(p.saveSettings||p.runOptimization)&&(0,e.jsx)("span",{style:{color:"#155724",fontSize:"16px",fontWeight:"bold",padding:"8px 16px",backgroundColor:"#d4edda",borderRadius:"6px",border:"2px solid #c3e6cb",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:p.runOptimization||p.saveSettings})]})]}),Array.isArray(b)&&b.length>0&&(0,e.jsxs)("div",{style:{marginTop:"24px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e1e5e9"},children:[(0,e.jsx)("h3",{children:"\u{1F441}\uFE0F SEO Preview"}),(0,e.jsx)("p",{style:n,children:"Here's how your product pages will look after optimization:"}),(0,e.jsx)("div",{style:{overflowX:"auto",marginTop:"12px"},children:(0,e.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",borderRadius:"4px",overflow:"hidden"},children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{style:{backgroundColor:"#f1f3f4"},children:[(0,e.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Product"}),(0,e.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"New Title"}),(0,e.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"New Description"}),(0,e.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Image Alt Text"})]})}),(0,e.jsx)("tbody",{children:b.map((t,o)=>(0,e.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,e.jsx)("td",{style:{padding:"12px",fontFamily:"monospace",fontSize:"14px"},children:t.productId}),(0,e.jsx)("td",{style:{padding:"12px"},children:t.title}),(0,e.jsx)("td",{style:{padding:"12px"},children:t.description}),(0,e.jsx)("td",{style:{padding:"12px",fontStyle:"italic"},children:t.images?.[0]?.altText||"(no alt text)"})]},o))})]})})]})]})}export{W as default};
